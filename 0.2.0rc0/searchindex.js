Search.setIndex({docnames:["agent","distributed","index","metrics","rendezvous","runtime","timer"],envversion:{"sphinx.domains.c":1,"sphinx.domains.changeset":1,"sphinx.domains.cpp":1,"sphinx.domains.javascript":1,"sphinx.domains.math":2,"sphinx.domains.python":1,"sphinx.domains.rst":1,"sphinx.domains.std":1,"sphinx.ext.intersphinx":1,"sphinx.ext.todo":1,"sphinx.ext.viewcode":1,sphinx:55},filenames:["agent.rst","distributed.rst","index.rst","metrics.rst","rendezvous.rst","runtime.rst","timer.rst"],objects:{"torchelastic.agent":{server:[0,0,0,"-"]},"torchelastic.agent.server":{ElasticAgent:[0,1,1,""],SimpleElasticAgent:[0,1,1,""],Worker:[0,1,1,""],WorkerGroup:[0,1,1,""],WorkerSpec:[0,1,1,""],WorkerState:[0,1,1,""]},"torchelastic.agent.server.ElasticAgent":{get_worker_group:[0,2,1,""],run:[0,2,1,""]},"torchelastic.agent.server.SimpleElasticAgent":{_initialize_workers:[0,2,1,""],_monitor_workers:[0,2,1,""],_rendezvous:[0,2,1,""],_restart_workers:[0,2,1,""],_start_workers:[0,2,1,""],_stop_workers:[0,2,1,""],get_worker_group:[0,2,1,""],run:[0,2,1,""]},"torchelastic.agent.server.api":{MonitorResult:[0,1,1,""]},"torchelastic.agent.server.local_elastic_agent":{LocalElasticAgent:[0,1,1,""]},"torchelastic.distributed":{launch:[1,0,0,"-"]},"torchelastic.metrics":{configure:[3,3,1,""],prof:[3,3,1,""],put_metric:[3,3,1,""]},"torchelastic.metrics.api":{ConsoleMetricHandler:[3,1,1,""],MetricHandler:[3,1,1,""],NullMetricHandler:[3,1,1,""]},"torchelastic.rendezvous.etcd_rendezvous":{EtcdRendezvous:[4,1,1,""],EtcdRendezvousHandler:[4,1,1,""]},"torchelastic.rendezvous.etcd_rendezvous.EtcdRendezvousHandler":{is_closed:[4,2,1,""],next_rendezvous:[4,2,1,""],num_nodes_waiting:[4,2,1,""],set_closed:[4,2,1,""]},"torchelastic.timer":{LocalTimerClient:[6,1,1,""],LocalTimerServer:[6,1,1,""],TimerClient:[6,1,1,""],TimerRequest:[6,1,1,""],TimerServer:[6,1,1,""],configure:[6,3,1,""],expires:[6,3,1,""]},"torchelastic.timer.TimerClient":{acquire:[6,2,1,""],release:[6,2,1,""]},"torchelastic.timer.TimerServer":{clear_timers:[6,2,1,""],get_expired_timers:[6,2,1,""],register_timers:[6,2,1,""]},torchelastic:{agent:[0,0,0,"-"],distributed:[1,0,0,"-"],metrics:[3,0,0,"-"],rendezvous:[4,0,0,"-"],timer:[6,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","function","Python function"]},objtypes:{"0":"py:module","1":"py:class","2":"py:method","3":"py:function"},terms:{"30s":4,"600s":4,"abstract":0,"case":[2,4,6],"class":[0,3,4,6],"default":[0,3,4],"export":2,"final":0,"float":6,"function":[0,1,3,4],"import":[1,3,6],"int":[0,3],"long":4,"new":[0,1,4],"null":3,"return":[0,4,6],"true":6,"try":[0,3],"var":2,"void":0,"while":[0,1],AWS:2,For:[0,1,2,3],NOT:[0,1,6],ONE:2,That:[0,1],The:[0,1,3,4,6],There:4,Use:[0,2,4],Used:[1,4],Using:3,_initialize_work:0,_method:1,_monitor_work:0,_rendezv:0,_restart_work:0,_start_work:0,_stop_work:0,abl:4,about:[0,1,3],abov:[4,6],accord:0,accordingli:0,acquir:6,acquisit:6,across:0,action:0,activ:6,actual:0,add:3,added:3,adding:3,addit:[1,4],admit:[1,4],advanc:0,advertis:2,after:[4,6],agent:[1,2,3,6],agre:4,all:[0,1,2,3,4,6],all_reduc:6,alloc:4,allow:[0,1,4],alreadi:4,also:[3,4],alwai:6,amount:4,ani:[0,1,2,4,6],announc:4,api:[0,2,3,4,6],appli:[0,1],approxim:4,arg1:[1,2],arg:[0,1,2,6],argument:[0,1,2],argv:2,arriv:[1,4],assgin:1,assign:[0,1,4],assum:[0,1],assumpt:[1,3],attempt:[1,4],automat:[1,4],avail:[0,1],awai:2,back:4,backend:[1,2,4],bar:3,barrier:4,base:[0,2],basecontext:6,basic:4,batch:2,baz:3,been:4,befor:[1,3,6],begin:4,behavior:1,being:[0,4,6],belong:3,below:[0,3,4,5,6],better:0,between:[1,4,6],block:[4,6],blueprint:0,bool:6,both:[0,1],c10d:[1,4],calcul:3,calculate_lat:3,call:[0,4,6],caller:[0,4],can:[0,1,2,3,4,6],capac:2,caus:4,certain:3,chang:[0,1,2],check:[0,4],checkpoint:[1,2],checkpoint_path:[1,2],class_nam:3,classnam:3,clear:6,clear_tim:6,client:2,close:4,cloud:5,cluster:[1,4],code:[1,6],collect:[0,4],combin:4,come:3,command:1,common:4,commun:[0,4,6],compat:0,complet:[0,4,6],compris:1,configur:[0,1,3,4,6],connect:4,consid:[0,4],consist:[1,4],consol:3,consolemetrichandl:3,consolemetricshandl:3,contain:[0,1],context:[0,1,4,6],continu:2,contrast:0,control:[0,4],conveni:3,coordin:0,copi:0,correl:1,could:[0,4],count:3,countdown:6,crash:4,creat:[0,1,4],critic:[2,4],cross:0,current:4,custom:3,daemon:6,data:[0,3,4,6],dataset:2,deadlin:6,deal:[0,6],debug:3,decentr:0,decid:4,decis:[0,4,6],decor:3,def:[0,1,2,3,6],def_nam:3,defens:0,defin:[0,1],definit:1,deleg:0,demand:2,departur:1,depend:[0,1,6],deploi:0,deploy:[0,1],describ:[0,4],descript:4,design:[2,3,4],destin:3,destroi:4,detect:0,dev:3,devic:6,diagram:[0,4],dict:[0,6],did:0,differ:[1,2,3,4],directli:0,discoveri:4,distribut:[0,1,2,4,6],doc:[2,4],doe:[0,3,4,6],doubl:0,down:[0,1],due:[1,2],durat:3,dure:[0,4],dynam:2,each:[0,1,2,6],effect:6,either:[2,6],elasticag:0,elig:6,emit:3,empti:0,enabl:2,encod:[0,3],encourag:0,end:3,end_of_data:1,endpoint:[1,4],ensur:[2,4],entir:[0,1],entiti:6,entri:[1,4],env:[1,2],environ:[0,1,2],epoch:2,equal:[4,6],error:0,essenti:0,etc:[0,4],etcd:[1,2],etcd_address:4,etcd_host:[1,2],etcd_port:[1,2],etcd_prefix:4,etcd_rendezv:4,etcdrendezv:4,etcdrendezvoushandl:4,even:0,event:0,eventu:4,everyon:[0,4],exact:[0,6],exactli:6,exampl:[0,2,3,4,6],except:[0,3],exchang:4,exclud:4,exclus:4,execut:2,exist:[0,1,4],exit:0,expect:[0,4,6],expir:2,expiration_tim:6,expiri:6,expositori:2,extend:6,fail:[0,1,2,4],failur:[0,1,2,3,4],far:1,fashion:6,fault:[0,1,2,4],few:0,field:[0,3],finish:[0,3,4,6],first:[0,3,4],fix:[1,4],flaki:2,follow:[0,1,2,3,4],foo:3,foobar:3,form:[1,4],format:1,fqdn:1,framework:3,frequenc:1,frequent:2,fresh:0,from:[0,3,4,6],full:[2,4],futur:[0,4],gang:1,gather:4,get:[1,2,6],get_context:[0,6],get_expired_tim:6,get_worker_except:0,get_worker_group:0,github:5,given:[0,4,6],global:[0,1],global_rank:0,gloo:1,goal:3,gpu:[0,6],gracefulli:[0,1],grade:2,greater:4,group:[0,1,2,3,4,6],group_nam:3,group_rank:1,groupchang:0,groupcontain:0,groupfail:0,guarante:[4,6],handl:[0,1,4],handler:4,happen:[0,4],hard:1,hardwar:2,has:[3,4,6],have:[0,1,2,3,4,6],healthi:[0,4],help:[3,4],henc:[0,2,4],here:[2,4],high:[0,3],hold:[0,6],holder:0,homogen:[0,1],host:[0,1,2,6],how:[4,6],howev:[0,3],http:2,identifi:[0,1,3,6],immedi:[1,4],implement:[3,4],implementor:0,impli:4,impos:6,includ:[3,4],incom:6,increas:3,independ:4,inform:[0,4],infrastructur:2,ing:4,init:0,init_process_group:[0,1,2],initi:[0,1,2,4],insid:4,instal:2,instanc:[0,1,2,3,6],instead:[0,3,4],instruct:[5,6],integ:4,intend:4,intent:4,inter:0,interfac:[3,4],intern:3,interpret:[0,4,6],interrup:0,interrupt:0,invok:1,is_clos:4,item:1,iter:2,its:[4,6],job:[0,1,2,3,4,6],job_id:[1,2,4],join:[1,4],just:0,kei:[1,4],kill:[1,6],kwarg:4,last:4,last_call_timeout:4,late:4,latenc:3,launch:[0,2],leaf:3,leaf_modul:3,leas:2,least:[2,4],leav:[0,1],less:6,level:[0,3],librari:6,like:4,list:[4,6],listen:2,load_checkpoint:[1,2],local:[0,1,6],local_elastic_ag:0,local_rank:[0,1],local_world_s:[0,1],localelasticag:[0,6],localhost:4,localtimercli:6,localtimerserv:6,localworkergroup:1,locat:3,log:[0,3],logic:2,longer:6,look:4,lose:[2,4],lost:[0,1,2],machin:0,made:1,mai:[0,3],main:[0,1,2,4,6],make:[0,1,2,3,4,6],manag:[0,1,2,6],manger:4,mani:4,manner:2,manual:[1,2],map:[0,1,3],mark:4,master_addr:[1,2],master_port:[1,2],max:[1,2,4],max_interv:6,max_nnod:1,max_restart:[0,1],max_siz:[1,2],max_work:4,maximum:4,mean:[4,6],meant:[4,6],measur:3,member:[0,1,4],membership:[0,1,4],messag:6,message_queu:6,method:[0,4],metric:2,metric_data:3,metric_group:3,metric_group_nam:3,metric_nam:3,metric_valu:3,metrichandl:3,might:4,millisecond:3,min:[1,4],min_siz:[1,2],min_work:4,minimum:4,mission:2,mode:1,model:2,modul:[1,3,4],monitor:[0,1,6],monitorresult:0,more:[0,6],most:[0,2,6],mp_queue:6,multi:[0,1],multipl:[4,6],multiprocess:[0,6],must:[0,2,6],mutabl:0,my_app:3,my_method:3,my_metr:3,my_modul:3,name:3,nccl:1,necessari:[0,1,4],necessarili:4,need:[1,2,4],neg:6,ness:1,network:4,never:[1,4],next:4,next_rendezv:4,nnode:[1,2],node:[0,1,2,4],non:[0,4,6],none:[0,3,6],noqa:4,note:[0,4,6],notic:1,notifi:1,now:[3,6],nproc_per_nod:[1,2],nproc_per_process:0,nullmetrichandl:3,nullmetricshandl:3,num_max_work:4,num_min_work:4,num_nod:2,num_nodes_wait:4,number:[0,1,4],object:[0,4,6],observ:[0,4],occur:4,off:0,one:[0,2,3,4,6],onli:[0,1,4],oper:3,optimist:0,other:[0,3,4],other_param:[0,6],our:5,out:3,output:[0,3],overal:4,overview:3,own:6,p2p:4,pair:6,parallel:4,paramet:[0,4],parent:6,parse_arg:2,part:4,partial:[0,4],particip:[1,4],particular:[0,1,3,4],particularli:6,pass:[0,1,2,3,4,6],path:[2,4],peer:4,per:[0,1,6],perform:4,period:4,physic:1,pid:[0,6],pip:2,place:0,placement:0,plane:[0,4],platform:3,point:[1,3,4],pool:2,port:[0,1,4],potenti:[4,6],pre_initi:1,prefer:0,prefix:4,previous:4,primit:4,print:3,prior:0,problem:4,process:[0,1,2,4,6],prod:3,produc:3,product:2,prof:3,profil:3,program:2,progress:[0,1,2],propag:4,properli:0,properti:3,protocol:6,provid:[0,1,2,4,5,6],public_hostnam:2,publish:3,put:0,put_metr:3,python:[0,1,2,3],pytorch:0,quad:0,qualifi:3,queri:4,queue:[0,6],quickli:4,rais:[0,4],rang:[1,2,4],rank:[0,1,2,4],rather:6,ratio:0,rdzv:[0,1],rdzv_backend:[1,2],rdzv_endpoint:[1,2],rdzv_id:[1,2],rdzv_impl:4,reach:[0,4],react:0,read:0,readm:5,reap:6,recent:2,recommend:[0,1],recov:0,refer:[4,5],region:3,regist:[4,6],register_tim:6,regular:0,relat:0,relationship:3,releas:[4,6],relev:0,remain:4,remot:0,rendezv:[0,1,2,3],rendezvousclosedexcept:4,rendezvoushandl:4,rendezvoustimeoutexcept:4,replac:[1,2],repres:[0,4,6],request:6,request_queu:6,requestqueu:6,requir:0,reserv:3,resili:2,resourc:4,respons:[0,3,6],restart:[0,1,2],result:[0,1],resum:4,ret_val:0,retri:[0,6],retryabl:4,role:[0,1,4],root:4,roughli:1,run:[0,1,2,4,6],run_id:4,runtim:2,safe:4,same:[0,1,2,3,4,6],save_checkpoint:[1,2],scaffold:0,scale:1,scenario:4,schedul:0,scheme:4,scope:6,scope_id:6,script:[0,1,6],second:6,section:[0,1,5],see:[2,4],self:[0,3,6],semant:[1,4],sens:4,sensibl:3,server:[1,2,4],set:[0,2,4,6],set_clos:4,share:[2,4],shared_queu:0,should:[0,1,4,6],should_checkpoint:1,side:6,signal:4,signatur:0,similar:[1,3],simpl:4,simpleelasticag:0,simplest:0,simpli:1,sinc:6,singl:[0,1,2],sink:3,situat:6,size:[0,1,2,4],small:4,some:[0,1,6],soon:4,sourc:[0,3,4,6],spawn:[0,6],spec:[0,6],specif:[0,4,6],specifi:[0,4],spot:2,stabl:[1,4],stage:3,start:[0,1,2,3,4,6],start_method:[0,6],start_train:1,start_work:0,state:[0,2,4],stdout:3,stdoutmetrichandl:3,stop:[0,1,4],store:[0,1,4],str:[0,3,6],string:[0,3,4],strongli:1,structur:[0,1],stuck:[0,6],subprocess:6,subset:1,succe:4,succeed:0,success:3,successfulli:[0,3],succinctli:3,suffici:4,support:1,sure:[1,2],surviv:1,synchron:4,sys:2,take:6,taken:2,talk:6,tcp:1,tear:0,technic:4,telemetri:3,temporarili:0,term:4,termin:[0,6],than:[1,3,4,6],thei:4,them:[3,4,6],themselv:4,thi:[0,1,2,4,6],thought:3,thread:0,threw:3,time:[2,3,4,6],timefram:6,timeout:4,timer:2,timer_cli:6,timer_request:6,timercli:6,timerrequest:6,timerserv:6,timeseri:3,timestamp:3,toi:3,toler:[0,1,2,4],too:4,topolog:0,torch:[0,1,2,4,6],torchelast:[0,1,2,3,4,6],torchelastic_max_restart:1,torchelastic_restart_count:1,total:[1,3,4],total_num_epoch:2,track:0,train:[0,1,4],train_loop:4,train_step:1,trainer:[0,1,6],trainer_func:6,trainers_per_nod:2,trigger:4,trivial:0,tupl:[3,4],two:3,type:[0,4,6],typic:[0,1,6],ultim:6,uncaught:0,underli:0,understand:0,unhandl:0,unhealthi:0,union:1,uniqu:[0,1,3,4,6],unit:[0,1],unknown:0,unless:6,unrecover:0,until:4,updat:0,upon:0,url:[2,4],usag:[0,1,3,6],use:[3,4],used:[1,3,4,6],useful:6,user:[0,1,2,3],uses:[3,4,6],using:[0,1,3,4,6],valid:4,valu:[0,1,3,4],variabl:1,variou:5,visibl:3,w605:4,wai:3,wait:4,want:3,well:[1,4],weren:4,what:3,whatev:6,when:[0,1,2,4,6],where:[2,4,6],whether:[0,4],which:[0,1,4,6],who:4,within:[1,4,6],word:4,work:[0,1,2,4,6],worker:[0,1,2,4,6],worker_group:0,worker_id:6,workergroup:[0,1],workergroupfailureexcept:0,workerspec:[0,6],workerst:0,world:[0,1,4],world_siz:[0,1,2],worth:2,would:4,wrap:6,write:3,yet:0,you:[0,1,2,3,6],your:[1,2,3,6],your_training_script:[1,2]},titles:["Elastic Agent","Elastic Launch","PyTorch Elastic","Metrics","Rendezvous","Running torchelastic","Expiration Timers"],titleterms:{AWS:5,agent:0,azur:5,client:6,concept:0,custom:6,document:2,ec2:5,elast:[0,1,2],etcd:4,expir:6,extend:0,handler:3,implement:[0,6],kubernet:5,launch:1,launcher:1,method:[3,6],metric:3,pytorch:2,quickstart:2,rendezv:4,run:5,script:2,server:[0,6],timer:6,torchelast:5,train:2,write:6}})